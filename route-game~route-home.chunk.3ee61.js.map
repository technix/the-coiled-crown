{"version":3,"sources":["webpack:///./components/ui/settings-sound/index.css","webpack:///./components/ui/settings-text/index.js","webpack:///./components/ui/choice-button/index.css","webpack:///./components/ui/choice-button/index.js","webpack:///./components/ui/container-text/index.css","webpack:///./components/ui/container-text/index.js","webpack:///./components/ui/header/index.css","webpack:///./components/ui/header/index.js","webpack:///./components/ui/container-image/index.css","webpack:///./components/ui/container-image/index.js","webpack:///./components/ui/link-menu/index.css","webpack:///./components/ui/link-menu/index.js","webpack:///./components/ui/settings-animation/index.js","webpack:///./components/ui/backdrop/index.css","webpack:///./components/ui/backdrop/index.js","webpack:///./components/ui/close-button/index.css","webpack:///./components/ui/close-button/index.js","webpack:///./components/ui/modal/index.css","webpack:///./components/ui/modal/index.js","webpack:///./components/ui/settings-font/index.css","webpack:///./components/ui/settings-font/index.js","webpack:///./components/ui/settings-text/index.css","webpack:///./components/ui/settings-theme/index.css","webpack:///./components/ui/settings-theme/index.js","webpack:///./components/ui/toggle/index.css","webpack:///./components/ui/toggle/index.js","webpack:///./components/ui/block/index.css","webpack:///./components/ui/block/index.js","webpack:///./components/screens/settings/index.css","webpack:///./components/screens/settings/index.js","webpack:///./components/ui/link-home/index.css","webpack:///./components/ui/link-home/index.js","webpack:///./components/ui/settings-sound/index.js","webpack:///../node_modules/@nanostores/preact/index.js","webpack:///../node_modules/nanostores/listen-keys/index.js"],"names":["ChoiceButton","_ref","choice","handleClick","onClick","useCallback","id","h","class","style","dangerouslySetInnerHTML","__html","ContainerText","children","fontSize","container_text","join","concat","Header","header","header_align","ContainerImage","src","imagebox","image","LinkMenu","key","SettingsAnimation","animation","setAnimation","handleAnimation","e","target","checked","Toggle","enabled","onChange","Backdrop","backdrop","CloseButton","title","Modal","modal","SettingsFont","font","setFont","handleFont","value","settings_font_container","fonts","Object","entries","map","_ref2","_ref3","_slicedToArray","k","v","selected","datapointsFontSize","s","minFontSize","maxFontSize","stepFontSize","push","SettingsText","setFontSize","handleFontSize","settings_text","settings_fontsize_container","settings_font_a","settings_fontsize_input_container","settings_fontsize_input","type","min","max","step","defaultFontSize","onInput","list","f","settings_font_sample","sampleFontsizeText","SettingButton","themeId","themeConfig","buttonStyle","color","settings_theme_button","SettingsTheme","setTheme","handleTheme","attributes","settings_theme_container","themes","_ref4","Block","align","cssStyles","Settings","atrament","useContext","Atrament","settings","useStore","store","set","save","setMute","toggle","setVolume","_useState2","useState","isOpen","openSettings","toggleSettings","escHandler","useEffect","document","addEventListener","removeEventListener","SettingsSound","mute","volume","theme","width","version","LinkHome","game","removeSave","route","apply","arguments","handleMute","handleVolume","Fragment","settings_sound","settings_sound_container","settings_sound_icon","settings_sound_input_container","settings_sound_volume","disabled","opts","length","undefined","forceRender","valueBeforeEffect","get","batching","timer","unlisten","rerender","setTimeout","keys","listener","keysSet","Set","_toConsumableArray","listen","changed","has","listenKeys","clearTimeout"],"mappings":"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","file":"route-game~route-home.chunk.3ee61.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"settings_sound_container\":\"settings_sound_container__tdffk\",\"settings_sound_input_container\":\"settings_sound_input_container__CT+Se\",\"settings_sound_volume\":\"settings_sound_volume__63HAU\",\"settings_sound_icon\":\"settings_sound_icon__XPzAb\"};","import { h } from 'preact';\nimport style from './index.css';\nimport { useCallback } from 'preact/hooks';\n\nimport { defaultFontSize, stepFontSize, minFontSize, maxFontSize, sampleFontsizeText } from 'src/constants';\n\nimport { fonts } from 'src/components/theme';\n\nconst datapointsFontSize = [];\nfor (let s=minFontSize; s <= maxFontSize; s+= stepFontSize) {\n  datapointsFontSize.push(s);\n}\n\nconst SettingsText = ({ font, fontSize, setFontSize }) => {\n  const handleFontSize = useCallback((e) => setFontSize(e.target.value), [ setFontSize ]);\n\n  return (\n    <div class={[style.settings_text, 'atrament-settings-text'].join(' ')}>\n      <div class={style.settings_fontsize_container}>\n        <div class={style.settings_font_a} style={{'font-size': `${minFontSize}%`}}>A</div>\n        <div class={style.settings_fontsize_input_container}>\n          <input\n            class={style.settings_fontsize_input}\n            type=\"range\"\n            min={minFontSize}\n            max={maxFontSize}\n            step={stepFontSize}\n            value={fontSize || defaultFontSize}\n            onInput={handleFontSize}\n            list=\"fontSizes\"\n          />\n          <datalist id=\"fontSizes\">\n            {datapointsFontSize.map((f) => <option key={f} value={f} />)}\n          </datalist>\n        </div>\n        <div class={style.settings_font_a} style={{'font-size': `${maxFontSize}%`}}>A</div>\n      </div>\n      <div class={style.settings_font_sample} style={{'font-size': `${fontSize}%`, 'font-family': fonts[font]}}>\n        {sampleFontsizeText}\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsText;\n","// extracted by mini-css-extract-plugin\nexport default {\"choice_button\":\"choice_button__rAvgB\"};","import { h } from 'preact';\nimport style from './index.css';\nimport { useCallback } from 'preact/hooks';\n\nconst ChoiceButton = ({ choice, handleClick }) => {\n  const onClick = useCallback(() => {\n    handleClick(choice.id);\n  }, [ choice, handleClick ]);\n  return (\n    <button class={style.choice_button} onClick={onClick} dangerouslySetInnerHTML={{__html: choice.choice}} />\n  );\n};\n\nexport default ChoiceButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"container_text\":\"container_text__ZXoDQ\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst ContainerText = ({ children, fontSize }) => {  \n  return (\n    <div class={[style.container_text, 'atrament-text-container'].join(' ')} style={{'font-size': `${fontSize}%`}}>\n      {children}\n    </div>\n  );\n};\n\nexport default ContainerText;\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header__76MLv\",\"header_align\":\"header_align__UjY+Q\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Header = ({ children }) => (\n  <div class={[style.header, 'atrament-header'].join(' ')}>\n    <div class={style.header_align}>\n      {children}\n    </div>\n  </div>\n);\n\nexport default Header;","// extracted by mini-css-extract-plugin\nexport default {\"imagebox\":\"imagebox__XCLvI\",\"image\":\"image__DtVyK\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst ContainerImage = ({ src }) => (\n  src ?\n    <div class={[style.imagebox, 'atrament-image-container'].join(' ')}>\n      <img src={src} class={[style.image, 'atrament-image'].join(' ')} />\n    </div>\n    :\n    ''\n);\n\nexport default ContainerImage;","// extracted by mini-css-extract-plugin\nexport default {\"link_menu\":\"link_menu__S6+au\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst LinkMenu = ({children, key, onClick}) => (\n  <div>\n    <button key={key} onClick={onClick} class={style.link_menu}>{children}</button>\n  </div>\n);\n\nexport default LinkMenu;","import { h } from 'preact';\nimport { useCallback } from 'preact/hooks';\nimport Toggle from '../toggle';\n\nconst SettingsAnimation = ({ animation, setAnimation }) => {\n  const handleAnimation = useCallback((e) => setAnimation(e.target.checked), [ setAnimation ]);\n\n  return (\n    <div class={['atrament-settings-animation'].join(' ')}>\n      <Toggle enabled={animation} onChange={handleAnimation} /> Animations\n    </div>\n  );\n};\n\nexport default SettingsAnimation;\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"backdrop__m+OYW\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Backdrop = ({ onClick }) => (\n  <div class={[style.backdrop, 'atrament-backdrop'].join(' ')} onClick={onClick} />\n);\n\nexport default Backdrop;\n","// extracted by mini-css-extract-plugin\nexport default {\"close\":\"close__w21r1\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst CloseButton = ({onClick}) => (\n  <div class={style.close}>\n    <button onClick={onClick} title=\"Close\">&#x2715;</button>\n  </div>\n);\n\nexport default CloseButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"modal__q1MeB\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Modal = ({ children }) => (\n  <div class={[style.modal, 'atrament-modal'].join(' ')}>\n    {children}\n  </div>\n);\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nexport default {\"settings_font_container\":\"settings_font_container__DYxBs\"};","import { h } from 'preact';\nimport style from './index.css';\nimport { useCallback } from 'preact/hooks';\n\nimport { fonts } from 'src/components/theme';\n\nconst SettingsFont = ({ font, setFont }) => {\n  const handleFont = useCallback((e) => setFont(e.target.value), [ setFont ]);\n  return (\n    <div class={[style.settings_font_container, 'atrament-settings-font'].join(' ')}>\n      <select onChange={handleFont} style={{'font-family': fonts[font]}}>\n        {Object.entries(fonts).map(([k, v]) => (\n          <option key={k} value={k} style={{'font-family': v}} selected={font === k}>{k}</option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nexport default SettingsFont;\n","// extracted by mini-css-extract-plugin\nexport default {\"settings_fontsize_container\":\"settings_fontsize_container__wP8JL\",\"settings_font_a\":\"settings_font_a__Btx-T\",\"settings_fontsize_input_container\":\"settings_fontsize_input_container__LwIpf\",\"settings_fontsize_input\":\"settings_fontsize_input__kN0NY\",\"settings_font_sample\":\"settings_font_sample__6xeQK\"};","// extracted by mini-css-extract-plugin\nexport default {\"settings_theme_container\":\"settings_theme_container__GNC6s\",\"settings_theme_button\":\"settings_theme_button__GnuVe\"};","import { h } from 'preact';\nimport style from './index.css';\nimport { useCallback } from 'preact/hooks';\n\nimport { themes } from 'src/components/theme';\n\nconst SettingButton = ({themeId, themeConfig, onClick }) =>  {\n  const buttonStyle={\n    color: themeConfig['--fg-color'],\n    'background-color': themeConfig['--bg-color']\n  }\n  return (<button class={style.settings_theme_button} style={buttonStyle} onClick={onClick} data-theme-id={themeId}>{themeId}</button>);\n};\n\nconst SettingsTheme = ({ setTheme }) => {\n  const handleTheme = useCallback((e) => setTheme(e.target.attributes['data-theme-id'].value), [ setTheme ]);\n  return (\n    <div class={[style.settings_theme_container, 'atrament-settings-theme'].join(' ')}>\n      {Object.entries(themes).map(([k, v]) => {\n        return <SettingButton key={k} themeId={k} themeConfig={v} onClick={handleTheme} />\n      })}\n    </div>\n  );\n};\n\nexport default SettingsTheme;\n","// extracted by mini-css-extract-plugin\nexport default {\"checkbox_wrapper\":\"checkbox_wrapper__-wNzj\",\"checkbox\":\"checkbox__XUrp9\",\"focus-visible\":\"focus-visible__U28+i\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Toggle = ({enabled, onChange}) => (\n  <div class={style.checkbox_wrapper}>\n    <input type=\"checkbox\" class={style.checkbox} checked={enabled} onChange={onChange} />\n  </div>\n);\n\nexport default Toggle;\n\n","// extracted by mini-css-extract-plugin\nexport default {\"block\":\"block__5Kw+w\",\"block_start\":\"block_start__qEaDh\",\"block_end\":\"block_end__ZWY1I\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Block = ({ children, align }) => {\n  const cssStyles = [style.block];\n  if (align === 'start') {\n    cssStyles.push(style.block_start);\n  } else if (align === 'end') {\n    cssStyles.push(style.block_end);\n  }\n  cssStyles.push('atrament-block');\n  return (\n    <div class={cssStyles.join(' ')}>\n      {children}\n    </div>\n  );\n};\n\nexport default Block;\n","// extracted by mini-css-extract-plugin\nexport default {\"settings_container\":\"settings_container__GOY-m\",\"settings_toggle\":\"settings_toggle__8pZcW\"};","import { h } from 'preact';\nimport style from './index.css';\nimport { useStore } from '@nanostores/preact';\n\nimport { useCallback, useContext, useEffect, useState } from 'preact/hooks';\n\nimport {\n  Backdrop,\n  Modal,\n  CloseButton,\n  SettingsSound,\n  SettingsText,\n  SettingsFont,\n  SettingsTheme,\n  SettingsAnimation\n} from 'src/components/ui';\n\nimport Atrament from 'src/atrament-context';\n\nconst Settings = () => {\n  const atrament = useContext(Atrament);\n  const { settings } = useStore(atrament.store());\n\n  const setAnimation = useCallback((v) => {\n    atrament.settings.set('animation', v);\n    atrament.settings.save();\n  }, [ atrament.settings ]);\n  const setMute = useCallback(() => {\n    atrament.settings.toggle('mute');\n    atrament.settings.save();\n  }, [ atrament.settings ]);\n  const setVolume = useCallback((v) => {\n    atrament.settings.set('volume', v);\n    atrament.settings.save();\n  }, [ atrament.settings ]);\n  const setFontSize = useCallback((v) => {\n    atrament.settings.set('fontSize', v);\n    atrament.settings.save();\n  }, [ atrament.settings ]);\n  const setTheme = useCallback((v) => {\n    atrament.settings.set('theme', v);\n    atrament.settings.save();\n  }, [ atrament.settings ]);\n  const setFont = useCallback((v) => {\n    atrament.settings.set('font', v);\n    atrament.settings.save();\n  }, [ atrament.settings ]);\n    \n  //\n  const [ isOpen, openSettings ] = useState(false);\n  const toggleSettings = useCallback(() => openSettings(!isOpen), [ isOpen ]);\n\n  const escHandler = useCallback((e) => {\n    if (e.key === \"Escape\") {\n      openSettings(false)\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escHandler, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escHandler, false);\n    }\n  }, [ escHandler ]);\n\n  if (isOpen) {\n    return (\n      <div class={style.settings_container}>\n        <Backdrop onClick={toggleSettings} />\n        <Modal>\n          <CloseButton onClick={toggleSettings} />\n          <SettingsAnimation animation={settings.animation} setAnimation={setAnimation} />\n          <SettingsSound mute={settings.mute} volume={settings.volume} setMute={setMute} setVolume={setVolume} />\n          <SettingsFont font={settings.font} setFont={setFont} />\n          <SettingsText font={settings.font} fontSize={settings.fontSize} setFontSize={setFontSize} />          \n          <SettingsTheme theme={settings.theme} setTheme={setTheme} />\n          <div style={{width: '100%', 'text-align': \"right\", 'font-size': '0.8rem'}}>atrament {atrament.version}</div>\n        </Modal>\n      </div>\n    );\n  }\n  return (\n    <button class={style.settings_toggle} onClick={toggleSettings}>☰</button>\n  );\n};\n\nexport default Settings;","// extracted by mini-css-extract-plugin\nexport default {\"link_home\":\"link_home__T3cHG\"};","import { h } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { route } from 'preact-router';\nimport Atrament from 'src/atrament-context';\nimport Block from '../block';\nimport style from './index.css';\n\nconst LinkHome = () => {\n  const atrament = useContext(Atrament);\n\n  const endGame = async () => {\n    await atrament.game.removeSave('_autosave_');\n    await atrament.game.removeSave('checkpoint/_default_');\n    route('/');\n  };\n\n  return (\n    <Block>\n      <button key=\"mainmenu\" onClick={endGame} class={style.link_home}>The end</button>\n    </Block>\n  );\n};\n\nexport default LinkHome;\n","import { h } from 'preact';\nimport style from './index.css';\nimport { useCallback } from 'preact/hooks';\nimport Toggle from '../toggle';\n\nconst SettingsSound = ({ mute, volume, setMute, setVolume }) => {\n  const handleMute = useCallback((e) => setMute(!e.target.checked), [ setMute ]);\n  const handleVolume = useCallback((e) => setVolume(e.target.value), [ setVolume ]);\n\n  return (\n    <>\n      <div class={[style.settings_sound, 'atrament-settings-sound'].join(' ')}>\n        <Toggle enabled={!mute} onChange={handleMute} /> Sound\n      </div>\n      <div class={style.settings_sound_container}>\n        <div class={style.settings_sound_icon}>&#128265;</div>\n        <div class={style.settings_sound_input_container}>\n          <input\n            class={style.settings_sound_volume}\n            disabled={mute}\n            type=\"range\"\n            min=\"0\"\n            max=\"100\"\n            value={volume}\n            onChange={handleVolume}\n          />\n        </div>\n        <div class={style.settings_sound_icon}>&#128266;</div>\n      </div>\n    </>\n  );\n};\n\nexport default SettingsSound;\n","import { useState, useEffect } from 'preact/hooks'\nimport { listenKeys } from 'nanostores'\n\nexport function useStore(store, opts = {}) {\n  let [, forceRender] = useState({})\n  let [valueBeforeEffect] = useState(store.get())\n\n  useEffect(() => {\n    valueBeforeEffect !== store.get() && forceRender({})\n  }, [])\n  \n  useEffect(() => {\n    let batching, timer, unlisten\n    let rerender = () => {\n      if (!batching) {\n        batching = 1\n        timer = setTimeout(() => {\n          batching = undefined\n          forceRender({})\n        })\n      }\n    }\n    if (opts.keys) {\n      unlisten = listenKeys(store, opts.keys, rerender)\n    } else {\n      unlisten = store.listen(rerender)\n    }\n    return () => {\n      unlisten()\n      clearTimeout(timer)\n    }\n  }, [store, '' + opts.keys])\n\n  return store.get()\n}\n","export function listenKeys(store, keys, listener) {\n  let keysSet = new Set([...keys, undefined])\n  return store.listen((value, changed) => {\n    if (keysSet.has(changed)) {\n      listener(value, changed)\n    }\n  })\n}\n"],"sourceRoot":""}